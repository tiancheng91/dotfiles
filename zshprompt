#-*- mode: sh; -*-
autoload -Uz vcs_info
autoload colors zsh/terminfo

function precmd {
    zstyle ':vcs_info:*' formats "%B%F{black}@%%b%f%b "
    zstyle ':vcs_info:*' actionformats "%B%F{black}@%f%%b%b%B%F{black}|%f%%b%a "
    zstyle ':vcs_info:*' nvcsformats " "
    vcs_info
}

setopt prompt_subst
PROMPT='%m%(?.. %??)%(1j. %j&.) %(3~|./|)%2~${vcs_info_msg_0_}%(!.%B#%b.\$) '
